# vercel

회사에서 FE팀에서 배포하는 구조를 보는데, 구조가 이상했다.  
배포를 github action을 통해 자동화하고 vercel이 동작하고 그리고 aws ec2 instance에 배포하고 있었다.  
이게 무슨 구조지? 생각이 들어서 파악해보기로 했다.

## 구조 파악

BE는 aws ecs로 배포하고 있었고, FE는 EC2 instance에 배포하고 있었다.  
자세히 파악해보니 Vercel을 배포 테스트용 그리고 사이트 미리보기 용도로 사용하는 것 같았다.  
이게 Vercel의 `Preview Deployment` 기능이라고 한다.

## 프론트엔드 미리보기 환경

Vercel은 브랜치나 Pull Request(PR)마다 자동으로 **미리보기 배포(Preview Deployment)**를 생성한다.  
개발자, 디자이너, QA 팀이 배포 전 프론트엔드 결과물을 확인할 수 있도록 지원하며, 코드 변경이 머지되기 전에 실제 동작을 테스트할 수 있어 효율적이라고 한다.
이는 프론트엔드 개발자들이 백엔드에 영향을 주지 않고 UI/UX를 독립적으로 테스트할 수 있다고 한다.  
그도 그럴것이 dev든 stage든 배포하면 백엔드 서버 영향을 받으니 FE 독립적으로 테스트하기는 어려울 것이다.  
단순 UI만 바꾸고 싶은데 BE 영향을 받으면 완전한 테스트가 어려울것이므로 그럴 니즈가 필요하다고 이해했다.

## 프론트엔드 성능 테스트

- 브랜치별로 배포된 환경에서 성능, 반응 속도 등을 미리 확인 가능
- Vercel의 글로벌 CDN을 활용해 페이지 로딩 속도 테스트도 가능

그 외 이런것도 가능하다고 한다.

## 왜 이런 것이 필요할까?

브런치별로 여러 회사에 배포를 해야하는 그런 솔루션회사라면 해당 브런치(release_company\*) 회사 별로 배포 전 테스트를 해봐야할텐데 배포에 대한 안정성을 주겠다고 생각이 들었다.
