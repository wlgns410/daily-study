# psql이 utf-8을 기본 지원하는 이유

PostgreSQL은 오픈 소스 데이터베이스로 전 세계 다양한 환경에서 사용될 수 있도록 설계되었다.  
따라서 다양한 언어와 지역에서 사용할 수 있기 위해 국제 표준 인코딩인 utf-8을 채택하였고 이를 기본 인코딩으로 제공한다.  
또한 psql은 리눅스, macos, window 등 다양한 플랫폼 위에서 실행될 수 있기 위해 호환성이 높은 utf-8을 채택하는 것이 자연스러웠다고 한다.

## mssql과 차이

Microsoft SQL Server는 Microsoft가 개발한 데이터베이스로, 초기에는 당연하게도 Windows 환경에서 사용되었다.  
Windows는 기본적으로 로케일 설정에 따라 ANSI 또는 Windows-1252와 같은 코드 페이지 기반 인코딩을 사용했다.  
따라서 기본값이 utf-8이 아니였다.  
mssql은 utf-16을 유니코드 문자 저장을 위한 기본 인코딩으로 제공했다.  
utf-8보다 고정 길이로 문자를 저장할 수 있어 ms 플랫폼과 호환성을 높혔다.  
다만, 이는 메모리를 많이 먹어 메모리 효율이 떨어지는 모습을 보여주기도 한다.

## psql과 mssql 연동시 주의점

PostgreSQL은 기본적으로 UTF-8을 사용하지만, MSSQL은 UTF-8을 기본으로 사용하지 않을 수 있기 때문에, 인코딩 불일치로 인한 문제가 생길 수 있다.

따라서 이를 주의해서 필드 타입을 설정하도록 하자.
UTF-8 인코딩을 사용하려면 해당 데이터베이스 또는 테이블에 VARCHAR 대신 NVARCHAR와 같은 유니코드 타입을 사용하거나, 직접 UTF-8로 인코딩을 설정하는 방식으로 연동하면 된다.
